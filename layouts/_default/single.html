{{ define "main" }}
<div class="default-single">
  <div class="ax-title ax-l-o">
    <div class="ax-l-i{{ printf " %s" (.Params.maxWidthTitle | default "max-w-5xl") }}">

      {{- with .Params.tags }}
        <div class="ax-tags flex">
          {{- $term := index $.Site.Taxonomies "tags" }}
          {{- range . }}
            {{- $tag := index $term . }}
            <a href="{{ $tag.Page.RelPermalink }}" class="text-sm font-semibold inline-block py-0.5 px-1 text-blue-400 last:mr-0 mr-0.5">
              #{{ $tag.Page.Title }}
            </a>
          {{- end }}
        </div>
      {{- end }}

      <h1 class="post-title font-content-title font-normal leading-tight tracking-default text-40">{{ .Title }}</h1>
      {{- if .Params.subtitle }}
      <p class="post-subtitle font-content-sans font-light text-xl text-raven-500 mt-3">{{- partial "meta-subtitle" . | safeHTML -}}</p>
      {{- end }}

      <div class="ax-meta flex items-center mt-5 max-w-3xl">
        <div class="flex-grow min-w-0">
          {{ partial "author" . }}
        </div>
      </div>
    </div>
  </div>

  {{- if .Params.feature }}
  <div class="ax-feature ax-l-o">
    <div class="ax-l-i{{ printf " %s" (.Params.maxWidthFeature | default "max-w-5xl") }}">
      {{- partial "feature" . }}
    </div>
  </div>
  {{- end -}}

  <div class="ax-content ax-l-o">
    <div class="ax-l-i{{ printf " %s" (.Params.maxWidthContentContainer | default "max-w-5xl") }}">
      <div class="lg:flex">
        {{- if .Params.toc }}
          <aside class="toc lg:sticky top-2 right-2 self-start justify-self-end mb-8 lg:order-last lg:ml-6 lg:max-h-screen lg:overflow-y-scroll">{{- partial "toc" . }}</aside>
        {{- end }}
        <article class="cdata flex-grow max-w-3xl">
          {{- .Content }}
          <aside class="flex">
            <div class="flex-grow"><!--TODO:author--></div>
            <div>{{ partial "share" . }}</div>
          </aside>
        </article>
      </div>
      {{ partial "google-adsense-ad-slot" . }}
      {{ partial "disqus" . }}
    </div>
  </div>
</div>
{{ end }}
